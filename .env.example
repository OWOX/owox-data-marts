# Overall owox variables
#######################################
OWOX_ENV_SET=true                     # set to 'true' when env is configured
OWOX_ENV_FILE_PATH=path/to/file/.env  # optional: custom path to env file
LOG_FORMAT=json                       # options: pretty, json
LOG_LEVELS=log                        # options: log,warn,error,debug,verbose,fatal
####################################### 

# @owox/backend 
####################################### 
TYPEORM_LOGGING=true                  # enable/disable TypeORM SQL logging
RUN_MIGRATIONS=false                  # auto-run database migrations on start
DB_TYPE=sqlite                        # options: sqlite, mysql

## Backend sqlite database 
SQLITE_DB_PATH=./path/to/database/backend.db

# OR (if choose DB_TYPE=mysql) 

## Backend MySQL database 
DB_HOST=localhost
DB_PORT=3312
DB_USERNAME=myuser
DB_PASSWORD=mypassword
DB_DATABASE=datamarts
####################################### 


# @owox/idp 
####################################### 
IDP_PROVIDER=owox                     # options: owox, better-auth, none
###################################### 


# @owox/idp-owox (if choose IDP_PROVIDER=owox)
#######################################

## IdentityOwox client (OWOX Identity Platform backend)
IDP_OWOX_BASE_URL=https://integrated-backend.bi.owox.com
IDP_OWOX_TIMEOUT=3s

## Optional: pass default headers to every request
IDP_OWOX_DEFAULT_HEADERS={"x-trace-id":"debug-local"}

## IDP App configuration
IDP_OWOX_CLIENT_ID=app-owox
IDP_OWOX_PLATFORM_SIGN_IN_URL=https://bi.owox.com/ui/p/signin
IDP_OWOX_CALLBACK_URL=/auth/callback

## JWT validation
IDP_OWOX_JWT_ISSUER=https://idp.owox.com
IDP_OWOX_JWT_CLOCK_TOLERANCE=5s
IDP_OWOX_JWT_CACHE_TTL=1h
IDP_OWOX_JWT_ALGORITHM=RS256

IDP_OWOX_DB_TYPE=sqlite  # options: sqlite, mysql

## Database SQLite (SQLite is default and recommended for getting started)
IDP_OWOX_SQLITE_DB_PATH=./data/auth.db
IDP_OWOX_SQLITE_PRAGMA=journal_mode=WAL,synchronous=NORMAL

# OR (if choose IDP_OWOX_DB_TYPE=mysql) 

## Database MySQL
IDP_OWOX_MYSQL_HOST=localhost
IDP_OWOX_MYSQL_PORT=3306
IDP_OWOX_MYSQL_USER=idp_user
IDP_OWOX_MYSQL_PASSWORD=your-secret
IDP_OWOX_MYSQL_DB=idp_owox
IDP_OWOX_MYSQL_CONNECTION_LIMIT=10               # Optional
IDP_OWOX_MYSQL_SSL={"rejectUnauthorized":true}   # Optional
#######################################


# @owox/idp-better-auth  (if choose IDP_PROVIDER=better-auth) 
#######################################
IDP_BETTER_AUTH_SECRET=your-super-secret-key-min-32-chars-long
IDP_BETTER_AUTH_BASE_URL=http://localhost:3000

IDP_BETTER_AUTH_MAGIC_LINK_TTL=3600   # Optional
IDP_BETTER_AUTH_SESSION_MAX_AGE=86400 # Optional

IDP_BETTER_AUTH_DATABASE_TYPE=sqlite  # options: sqlite, mysql

# SQLite Configuration (default)
IDP_BETTER_AUTH_SQLITE_DB_PATH=./data/auth.db

# OR (if choose IDP_BETTER_AUTH_DATABASE_TYPE=mysql) 

# MySQL Configuration
IDP_BETTER_AUTH_MYSQL_HOST=localhost
IDP_BETTER_AUTH_MYSQL_PORT=3306
IDP_BETTER_AUTH_MYSQL_USER=root
IDP_BETTER_AUTH_MYSQL_PASSWORD=password
IDP_BETTER_AUTH_MYSQL_DATABASE=better_auth
#######################################